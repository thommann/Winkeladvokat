<div class="playing-field-container">
  <!-- Top counters -->
  <div class="counter-row">
    <!-- Top left Player 0 counter -->
    <div class="ps-counter ps-counter-right">
      <div class="ps-score">
        <div
          class="ps-dot"
          [style]="{ 'background-color': players[0].color }"
        ></div>
        <span>{{ getPlayerScore(players[0]) }}</span>
      </div>
    </div>

    <div class="spacer"></div>

    <!-- Top right Player 1 counter -->
    <div class="ps-counter ps-counter-left">
      <div class="ps-score">
        <div
          class="ps-dot"
          [style]="{ 'background-color': players[1].color }"
        ></div>
        <span>{{ getPlayerScore(players[1]) }}</span>
      </div>
    </div>
  </div>

  <div
    class="playing-field"
    [style]="{ 'grid-template-columns': getTemplateColumns() }"
  >
    <div *ngFor="let row of grid; let i = index" class="row">
      <cell
        *ngFor="let cell of row; let j = index"
        [attr.data-x]="j"
        [attr.data-y]="i"
        (clicked)="onCellClick(i, j)"
        [cellState]="grid[i][j]"
        [backgroundClass]="backgroundClass(i, j)"
        [isSelected]="isCellSelected(i, j)"
      >
      </cell>
    </div>
  </div>

  <!-- Bottom counters -->
  <div class="counter-row">
    <!-- Bottom left Player 3 counter -->
    <div class="ps-counter ps-counter-right">
      <div *ngIf="players.length > 3" class="ps-score">
        <div
          class="ps-dot"
          [style]="{ 'background-color': players[3].color }"
        ></div>
        <span>{{ getPlayerScore(players[3]) }}</span>
      </div>
    </div>

    <div class="spacer"></div>

    <!-- Bottom right Player 2 counter -->
    <div class="ps-counter ps-counter-left">
      <div *ngIf="players.length > 2" class="ps-score">
        <div
          class="ps-dot"
          [style]="{ 'background-color': players[2].color }"
        ></div>
        <span>{{ getPlayerScore(players[2]) }}</span>
      </div>
    </div>

    <button [disabled]="isUndoButtonDisabled()" (click)="onUndoClick()">
      Undo
    </button>

  </div>
</div>
